{"version":3,"sources":["editMenu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"menu.js","sourcesContent":["$('.itemWorking').hide();\r\n\r\n$('.dd').nestable({\r\n    dropCallback: function(details) {\r\n        showMenuItem(details.sourceId);\r\n    },\r\n\r\n    onDragStart: function(l,e){\r\n        // l is the main container\r\n        // e is the element that was moved\r\n        showMenuItem(e[0].id);\r\n        //console.log(l);\r\n        //console.log(e[0].id);\r\n    }\r\n});\r\n\r\nvar showMenuItem = function(itemId) {\r\n    $('.itemDetails').hide();\r\n    $('.itemWorking').show();\r\n    $.ajax(\r\n        {\r\n            url : getItemUrl,\r\n            type: \"POST\",\r\n            data : { itemId: itemId, _token: token, menu: menu}\r\n        }).done(function(data){\r\n        if(data.status == 'success')\r\n        {\r\n            $('.itemDetails').html(data.data);\r\n        }\r\n        $('.itemWorking').hide();\r\n        $('.itemDetails').show();\r\n    });\r\n};\r\n\r\n\r\n$(\"#item-order\").submit(function(e)\r\n{\r\n\r\n    var formURL = $(this).attr(\"action\");\r\n    var values = {};\r\n    $.each($(this).serializeArray(), function(i, field) {\r\n        values[field.name] = field.value;\r\n    });\r\n    values['position'] =  JSON.stringify($('.dd').nestable('serialize'));\r\n\r\n    $.ajax(\r\n        {\r\n            url : formURL,\r\n            type: \"POST\",\r\n            data : values\r\n        }).done(function(data){\r\n        if(data.status == 'success')\r\n        {\r\n            message = {\r\n                'text': 'Menu item position has been saved.',\r\n                'type': 'success',\r\n                'title': 'Success',\r\n                'icon': 'fa fa-check'\r\n            };\r\n            setMessage(message);\r\n        }\r\n        if(data.status == 'error')\r\n        {\r\n            message = {\r\n                'text': 'There was a problem saving the order.',\r\n                'type': 'error',\r\n                'title': 'Error',\r\n                'icon': 'fa fa-times'\r\n            };\r\n            setMessage(message);\r\n        }\r\n\r\n    });\r\n\r\n    e.preventDefault();\r\n});\r\n\r\n$('#pageSelect').change(function() {\r\n    var route = $('#pageSelect option:selected').val();\r\n    var pagetitle = $('#pageSelect option:selected').text();\r\n    if(route != 0){\r\n        $('#url').val(route);\r\n        $('input[name=\"title\"]').val(pagetitle);\r\n    }\r\n});"],"sourceRoot":"/source/"}